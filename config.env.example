# OpenShift 4.17 UPI Installation Configuration
# Copy this file to config.env and fill in your values

###############################################################################
# Cluster Configuration
###############################################################################
CLUSTER_NAME="clusterocp"
BASE_DOMAIN="ocpexample.com"

# OpenShift Version
OPENSHIFT_VERSION="4.17"
# For specific version: OPENSHIFT_VERSION="4.17.1"
# For latest stable: OPENSHIFT_VERSION="stable-4.17"

###############################################################################
# AWS Configuration
###############################################################################
AWS_REGION="us-east-1"
# Comma-separated list of availability zones
AVAILABILITY_ZONES='["us-east-1a", "us-east-1b", "us-east-1c"]'
# Note: Will be converted to Terraform list format in script

# VPC Configuration
VPC_CIDR="172.31.0.0/16"

# Subnet CIDRs (auto-calculated from VPC_CIDR if not specified)
# PUBLIC_SUBNET_CIDRS='["172.31.0.0/20", "172.31.16.0/20", "172.31.32.0/20"]'
# PRIVATE_SUBNET_CIDRS='["172.31.128.0/20", "172.31.144.0/20", "172.31.160.0/20"]'

###############################################################################
# RHCOS AMI
###############################################################################
# Get AMI ID from: https://mirror.openshift.com/pub/openshift-v4/dependencies/rhcos/
# For us-east-1, typically: ami-xxxxx
RHCOS_AMI="ami-xxxxxxxxxxxxxxxxx"

###############################################################################
# Instance Types and Counts
###############################################################################
# Master nodes
MASTER_COUNT=3
MASTER_INSTANCE_TYPE="m4.xlarge"  # 4 vCPU, 16 GB RAM

# Worker nodes
WORKER_COUNT=4
WORKER_INSTANCE_TYPE="r5a.4xlarge"  # 16 vCPU, 128 GB RAM, 1.2TB storage

# Bootstrap (temporary)
BOOTSTRAP_INSTANCE_TYPE="m4.xlarge"

###############################################################################
# SSH Configuration
###############################################################################
# Path to SSH key (without .pub extension)
# AWS EC2 Key Pair name (must exist in AWS)
SSH_KEY_NAME="my-openshift-key"
SSH_KEY_PATH="$HOME/.ssh/id_rsa"

###############################################################################
# Red Hat Credentials
###############################################################################
# Path to pull secret downloaded from cloud.redhat.com
PULL_SECRET_FILE="$HOME/pull-secret.json"

###############################################################################
# Image Registry Configuration
###############################################################################
# Use emptyDir for testing (not for production)
# Set to "true" for testing, "false" for production (uses S3)
USE_REGISTRY_EMPTYDIR="false"

###############################################################################
# Working Directories
###############################################################################
WORK_DIR="./openshift-install"
TERRAFORM_DIR="./terraform"

###############################################################################
# Route53 Configuration (REQUIRED)
###############################################################################
# Route53 Hosted Zone ID for your BASE_DOMAIN
# Find this in AWS Console -> Route53 -> Hosted Zones
ROUTE53_ZONE_ID="Z1234567890ABC"

# Allowed CIDR blocks for API access (empty = allow all)
API_CIDR_ALLOW='["0.0.0.0/0"]'

# Allowed CIDR blocks for SSH access
SSH_CIDR_ALLOW='["0.0.0.0/0"]'

